; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documenation for the other options and examples
; https://docs.platformio.org/page/projectconf.html
;
; There are numerous configurations of NightDriver that can be built here.  For example, the
; simplest is the DEMO config.  The HUB75 matrix project is the mesermizer.  You simply set
; default_envs to the project you wish to build.  There are project configs for various different
; NightDriver projects ranging from WiFi LED Strip to the simple lantern candle:
;
; demo          Simple WS2812B strip controller, runs a rainbow on PIN 5
; ledstrip      Waits for color data over wifi, so used for home displays, etc
; spectrum      M5StickCPlus project, a spectrum analyzer, on 48x16 WS2812B matrix
; mesmerizer    HUB75 info panel with audio effects, weather, info, etc,

[platformio]
default_envs =
build_cache_dir = .pio/build_cache
extra_configs =
    custom_*.ini ; This file can be created in the root directory to store user defined devices and environments.

; ==================
; Base configuration
;
; Options that are used (or extended) in all device sections (and hence environments) are defined here

[base]
upload_port     =
monitor_port    =
build_type      = release
upload_speed    = 2000000
monitor_speed   = 115200
build_flags     = -std=gnu++2a
                  -g3
                  -Ofast
                  -ffunction-sections
                  -fdata-sections
                  -include string.h

build_src_flags = -Wformat=2                        ; Warnings for our code only, excluding libraries
                  -Wformat-truncation
                  -Wstack-usage=4096

# Exclude libraries that we don't control from 'pio check'.
# format is error number(optional :path_with_wildcards(optional :line_number))
check_flags     = cppcheck: --suppress=*:*src/uzlib/src/*

lib_deps        = crankyoldgit/IRremoteESP8266  @ ^2.8.6
                  fastled/FastLED               @ ^3.10.1
                  adafruit/Adafruit BusIO       @ ^1.17.2
                  adafruit/Adafruit GFX Library @ ^1.12.1
                  olikraus/U8g2                 @ ^2.36.12
                  kosme/arduinoFFT              @ ^2.0.4
                  esp32async/ESPAsyncWebServer  @ ^3.7.10
                  bblanchon/ArduinoJson         @ ^7.4.2
                  thomasfredericks/Bounce2      @ ^2.72.0
                  https://github.com/PlummersSoftwareLLC/RemoteDebug
                  QRCode                        @ ^0.0.1
                  Bodmer/TJpg_Decoder           @ ^1.1.0
                  plageoj/UrlEncode             @ ^1.0.1

; This partition table is the default and fits everything in 4M of flash without OTA.
board_build.partitions = config/partitions_custom_noota.csv



; =================================
; Build flags for enabling a remote
;
; You can set these here once to match your setup; they are then included in all environments
; that are configured to be used with a remote.

[remote_flags]
build_flags     = -D_IR_ENABLE_DEFAULT_=false       ; Don't automatically include every remote control decoder
                  -DDECODE_NEC=true                 ; Enable whichever you need for your remote.  Try not disabling
                                                    ; above to figure out which it is.

; ===============
; Device sections
;
; Sections starting with "dev_" contain general settings for a particular type of device.
; They extend the "base" config, both in general and in terms of build flags and dependencies,
; where applicable.

[dev_esp32]
extends         = base
board           = esp32dev
monitor_speed   = 115200
upload_speed    = 921600

[dev_esp32_s3]
extends         = base
board           = esp32-s3-devkitc-1
board_build.mcu = esp32s3
board_build.f_cpu = 240000000L
monitor_speed   = 115200
upload_speed    = 1000000
build_flags     = ${base.build_flags}

[dev_adafruit_feather]
extends         = dev_esp32_s3
board           = adafruit_feather_esp32s3_tft
monitor_speed   = 115200
upload_speed    = 1500000
lib_deps        = ${dev_esp32_s3.lib_deps}
                  bodmer/TFT_eSPI @ ^2.5.43
build_flags     = ${dev_esp32_s3.build_flags}
                  -DUSE_SCREEN=1
                  -DUSE_TFTSPI=1
                  -DUSER_SETUP_LOADED
                  -DTOUCH_CS=0
                  -DST7789_2_DRIVER
                  -DTFT_WIDTH=135
                  -DTFT_HEIGHT=240
                  -DTFT_BL=45
                  -DTFT_BACKLIGHT_ON=HIGH
                  -DTFT_RGB_ORDER=TFT_RGB
                  -DTFT_CS=7
                  -DTFT_DC=39
                  -DTFT_RST=40
                  -DTFT_MOSI=35
                  -DTFT_MISO=37
                  -DTFT_SCLK=36
                  -DLOAD_GLCD=1
                  -DLOAD_GFXFF=1
                  -DENABLE_OTA=1
                  -DSPI_FREQUENCY=27000000
                  -DESP32FEATHERTFT=1
                  -DTOGGLE_BUTTON_1=0
                  -DUSE_HSPI_PORT=1
                  -DNUM_INFO_PAGES=2
                  -DDEFAULT_SCREEN_PAGE=0
                  -DENABLE_WEBSERVER=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=1
                  -DTIME_BEFORE_LOCAL=5
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DNUM_CHANNELS=1
                  -DPOWER_LIMIT_MW=5000
                  -DMATRIX_WIDTH=32
                  -DMATRIX_HEIGHT=1
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=0
                  -DLED_PIN0=5
                  -DDEFAULT_EFFECT_INTERVAL=20000
board_build.partitions = config/partitions_custom.csv

[dev_heltec_wifi]
extends         = base
board           = heltec_wifi_kit_32
monitor_speed   = 115200
upload_speed    = 921600
build_flags     = -DUSE_SCREEN=1
                  -DARDUINO_HELTEC_WIFI_KIT_32=1
                  ${base.build_flags}

[dev_heltec_wifi_v2]
extends         = dev_heltec_wifi
board           = heltec_wifi_kit_32_v2
build_flags     = -DARDUINO_HELTEC_WIFI_KIT_32_V2=1
                  -DUSE_SSD1306=1
                  ${dev_heltec_wifi.build_flags}
lib_deps        = ${dev_heltec_wifi.lib_deps}
                  heltecautomation/Heltec ESP32 Dev-Boards @ ^1.1.1

[dev_heltec_wifi_v3]
extends         = dev_esp32_s3
board           = heltec_wifi_kit_32_V3
build_flags     = -DUSE_SCREEN=1
                  -DARDUINO_HELTEC_WIFI_KIT_32=1
                  -DARDUINO_HELTEC_WIFI_KIT_32_V3=1
                  -DUSE_SSD1306=1
                  ${dev_esp32_s3.build_flags}
lib_deps        = ${dev_esp32_s3.lib_deps}
                  heltecautomation/Heltec ESP32 Dev-Boards @ ^1.1.1

[dev_heltec_wifi_lora_v3]
extends         = dev_esp32_s3
board           = heltec_wifi_lora_32_V3
build_flags     = -DUSE_SCREEN=1
                  -DARDUINO_HELTEC_WIFI_KIT_32=1
                  -DARDUINO_HELTEC_WIFI_LORA_32_V3=1
                  -DUSE_SSD1306=1
                  ${dev_esp32_s3.build_flags}
lib_deps        = ${dev_esp32_s3.lib_deps}
                  heltecautomation/Heltec ESP32 Dev-Boards @ ^1.1.1

[dev_lolin_d32_pro]
extends         = base
board           = lolin_d32_pro
monitor_speed   = 115200
upload_speed    = 921600

[dev_m5]
extends         = base
monitor_speed   = 115200
upload_speed    = 1500000
build_flags     = -DUSE_SCREEN=1
                  ${base.build_flags}
lib_deps        = ${base.lib_deps}
                  m5stack/M5Unified @ ^0.2.7

[dev_m5stick_c]
extends         = dev_m5
board           = m5stick-c
build_flags     = -DM5STICKC=1
                  ${dev_m5.build_flags}
board_build.partitions = config/partitions_custom_noota.csv

[dev_m5stick_c_plus]
extends         = dev_m5
board           = m5stick-c                         ; Requires the M5StickC Plus (note the Plus)
build_flags     = -DM5STICKCPLUS=1
                  ${dev_m5.build_flags}
board_build.partitions = config/partitions_custom_noota.csv

[dev_m5stick_c_plus2]
extends         = dev_m5
board           = m5stick-c                         ; Requires the M5StickC Plus2 (note the Plus2)
upload_speed    = 2000000
build_flags     = -DM5STICKCPLUS2=1
                  ${dev_m5.build_flags}
                  ${psram_flags.build_flags}
board_build.partitions = config/partitions_custom_8M.csv
board_upload.flash_size = 8MB

[dev_m5stack]
extends         = dev_m5
board           = m5stack-core2
build_flags     = -DM5STACKCORE2=1
                  ${dev_m5.build_flags}
                  ${psram_flags.build_flags}
board_build.partitions = config/partitions_custom_8M.csv
board_upload.flash_size = 8MB

[dev_elecrow_mesmerizer]
extends         = dev_esp32_s3
board           = esp32-s3-devkitc-1
monitor_speed   = 115200
upload_speed    = 1500000
lib_deps        = ${dev_esp32_s3.lib_deps}
                  lovyan03/LovyanGFX @ ^1.1.7
build_flags     = ${dev_esp32_s3.build_flags}

[dev_tinypico]
extends         = base
board           = tinypico
monitor_speed   = 115200
upload_speed    = 1500000

[dev_wrover]
extends         = base
board           = esp-wrover-kit
monitor_speed   = 115200
upload_speed    = 1500000
lib_deps        = ${base.lib_deps}
                  adafruit/Adafruit ILI9341 @ ^1.5.10

[dev_mesmerizer]
extends         = dev_wrover
board           = esp-wrover-kit
upload_speed    = 2000000
monitor_speed   = 115200
board_build.partitions  = config/partitions_custom_8M.csv
board_upload.flash_size = 8MB

[dev_lilygo_tdisplay_s3]
extends         = dev_esp32_s3
board           = esp32-s3-devkitc-1
build_flags     = -DLILYGOTDISPLAYS3=1
                  -DPIN_SDA=21
                  -DTOGGLE_BUTTON_1=0
                  -DTOGGLE_BUTTON_2=14
                  ${dev_esp32_s3.build_flags}


[dev_lilygo_amoled]

extends        = dev_esp32_s3
board          = lilygo-t-amoled
monitor_speed  = 115200
upload_speed   = 1500000
build_flags    = ${dev_esp32_s3.build_flags}
                 -DLILYGO_TDISPLAY_AMOLED_SERIES=1
                 -DARDUINO_USB_CDC_ON_BOOT=1
                 -DAMOLED_S3=1
                 -DUSE_SCREEN=1
                 -DTOGGLE_BUTTON_0=21
                 -DTOGGLE_BUTTON_1=0
                 -DLED_PIN0=2
                 -DLV_CONF_PATH="../../../../include/amoled/lv_conf.h"
                 -DLV_CONF_INCLUDE_SIMPLE
                 ${psram_flags.build_flags}
lib_deps       = ${dev_esp32_s3.lib_deps}
                  lewisxhe/SensorLib@^0.1.4
                  lewisxhe/XPowersLib@^0.2.1
                  https://github.com/lvgl/lvgl.git#release/v8.3
                  ${base.lib_deps}

; ===================
; Capability sections
;
; The following sections contain build flags and/or dependencies to enable a particular capability
; or module in specific environments. They applicable option(s) - build_flags, lib_deps or both -
; are included in the environments in question.
;
; Note that these sections do not extend "base", as they are basically feature toggles.


; Build flags for use of PSRAM
[psram_flags]
build_flags     = -DUSE_PSRAM=1
                  -DBOARD_HAS_PSRAM=1
                  -mfix-esp32-psram-cache-issue

; Libs needed to link with a TTGO Module
[ttgo_deps]
lib_deps        = https://github.com/Xinyuan-LilyGO/TTGO-T-Display
                  bodmer/TFT_eSPI @ ^2.5.43

; ================================================================
; Basic environment section, automatically inherited by all others
;

[env]
platform        = platformio/espressif32 @ ^6.12.0
framework       = arduino
build_type      = release
build_unflags   = -std=gnu++11
lib_extra_dirs  = ${PROJECT_DIR}/lib
monitor_filters = esp32_exception_decoder
extra_scripts   = pre:install_intelhex.py
                  pre:tools/bake_site.py
                  post:tools/merge_image.py
board_build.embed_files = site/dist/index.html.gz
                          site/dist/index.js.gz
                          site/dist/favicon.ico.gz
board_build.embed_txtfiles = config/timezones.json

; ================================================================
; Common project configurations
;

[mesmerizer_config]
build_flags     = -DPROJECT_NAME="\"Mesmerizer\""
                  -DMESMERIZER=1
                  -DSHOW_FPS_ON_MATRIX=0
                  -DUSE_HUB75=1
                  -DSHOW_VU_METER=1
                  -DEFFECTS_FULLMATRIX=1
                  -DCOLOR_ORDER=EOrder::RGB
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=1
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DMILLIS_PER_FRAME=0
                  -DMATRIX_WIDTH=64
                  -DMATRIX_HEIGHT=32
                  -DNUM_BANDS=16
                  -DIR_REMOTE_PIN=39
                  -DINPUT_PIN=36
                  -DTOGGLE_BUTTON_1=0
                  ${psram_flags.build_flags}
                  ${remote_flags.build_flags}

lib_deps        = https://github.com/PlummersSoftwareLLC/SmartMatrix.git
                  https://github.com/PlummersSoftwareLLC/GifDecoder.git
                  bitbank2/AnimatedGIF @ ^1.4.7
                  ${base.lib_deps}

board_build.embed_files = assets/bmp/brokenclouds.jpg
                          assets/bmp/brokencloudsnight.jpg
                          assets/bmp/clearsky.jpg
                          assets/bmp/clearnight.jpg
                          assets/bmp/fewclouds.jpg
                          assets/bmp/fewcloudsnight.jpg
                          assets/bmp/lowreslogo.jpg
                          assets/bmp/mist.jpg
                          assets/bmp/mistnight.jpg
                          assets/bmp/rain.jpg
                          assets/bmp/rainnight.jpg
                          assets/bmp/scatteredclouds.jpg
                          assets/bmp/scatteredcloudsnight.jpg
                          assets/bmp/showerrain.jpg
                          assets/bmp/showerrainnight.jpg
                          assets/bmp/snow.jpg
                          assets/bmp/snownight.jpg
                          assets/bmp/thunderstorm.jpg
                          assets/bmp/thunderstormnight.jpg
                          assets/gif/colorsphere.gif
                          assets/gif/atomic.gif
                          assets/gif/pacman.gif
                          assets/gif/threerings.gif
                          assets/gif/banana.gif
                          assets/gif/tesseract.gif
                          assets/gif/firelog.gif
                          assets/gif/nyancat.gif
                          ${env.board_build.embed_files}

; =====================
; Base Board Environments - REMOVED
;
; These intermediate sections have been eliminated. Device sections now include
; their board definitions, and project environments extend dev_* sections directly.

; ====================
; Project Environments
;
; These define specific projects with their base board type, project defines, and effect sets

;=========

[env:demo]
extends         = dev_esp32
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DPROJECT_NAME="\"Demo\""
                  -DMATRIX_WIDTH=144
                  -DMATRIX_HEIGHT=1
                  -DENABLE_AUDIO=0
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DTIME_BEFORE_LOCAL=0
                  -DENABLE_NTP=0
                  -DENABLE_OTA=0
                  -DENABLE_WEBSERVER=0
                  -DLED_PIN0=5
                  ${dev_esp32.build_flags}

; This is the basic DEMO project again, but expanded to work on the M5, which means it can draw to
; the built in LCD.  It's made so that you can connect to the small 4-pin connector on the M5,
; so it sends power and ground as well as data on PIN 32.

[env:m5demo]
extends         = dev_m5stick_c
build_flags     = -DM5DEMO=1
                  -DEFFECTS_DEMO=1
                  -DPROJECT_NAME="\"M5Demo\""
                  -DMATRIX_WIDTH=144*5+38
                  -DMATRIX_HEIGHT=1
                  -DCOLOR_ORDER=EOrder::GRB
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=0
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DLED_PIN0=32
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${dev_m5stick_c.build_flags}

; This is largely the same as the m5demo above except it links to the PLUS version of the lib
[env:m5plusdemo]
extends         = dev_m5stick_c_plus
build_flags     = -DM5DEMO=1
                  -DEFFECTS_DEMO=1
                  -DPROJECT_NAME="\"M5Demo\""
                  -DMATRIX_WIDTH=144*5+38
                  -DMATRIX_HEIGHT=1
                  -DCOLOR_ORDER=EOrder::GRB
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=0
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DLED_PIN0=32
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${dev_m5stick_c_plus.build_flags}

[env:pdpwopr]
extends         = dev_m5stick_c_plus2
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_PDPWOPR=1
                  -DPOWER_LIMIT_MW=1500
                  -DDEFAULT_EFFECT_INTERVAL=0
                  -DPROJECT_NAME="\"PDPWOPR\""
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=1
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DMAX_SAMPLES=128
                  -DINCOMING_WIFI_ENABLED=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DLED_PIN0=32
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=16
                  -DMATRIX_HEIGHT=16
                  -DNUM_BANDS=16
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DSHOW_VU_METER=0
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus2.build_flags}

; Also one for the M5Stack Core2
[env:m5stackdemo]
extends         = dev_m5stack
build_flags     = -DUSE_MATRIX=1
                  -DEFFECTS_STACKDEMO=1
                  -DPROJECT_NAME="\"M5StackDemo\""
                  -DMATRIX_WIDTH=48
                  -DMATRIX_HEIGHT=16
                  -DSHOW_VU_METER=1
                  -DVU_METER_ROW=0
                  -DCOLOR_ORDER=EOrder::GRB
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=0
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DLED_PIN0=32
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DDEFAULT_INFO_PAGE=2
                  -DNUM_BANDS=16
                  ${dev_m5stack.build_flags}

; Now for the Heltec, with WiFi and webserver enabled
[env:heltecdemo]
extends         = dev_heltec_wifi
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DENABLE_WIFI=1
                  ${dev_heltec_wifi.build_flags}

; Now for Heltec V2, which has 8M flash
[env:heltecv2demo]
extends         = dev_heltec_wifi_v2
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DENABLE_WIFI=1
                  ${dev_heltec_wifi_v2.build_flags}

; Heltec V3 board, which is an S3 with USB-C
[env:heltecv3demo]
extends         = dev_heltec_wifi_v3
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DENABLE_WIFI=1
                  -DROTATE_SCREEN=1
                  ${dev_heltec_wifi_v3.build_flags}

; Heltec LoRa V3 board, which is an S3 with USB-C and LoRa
[env:helteclorav3demo]
extends         = dev_heltec_wifi_lora_v3
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DENABLE_WIFI=1
                  -DENABLE_AUDIO=0
                  ${dev_heltec_wifi_lora_v3.build_flags}

; LILYGO T-Display-S3
[env:lilygo-tdisplay-s3-demo]
extends         = dev_lilygo_tdisplay_s3
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DENABLE_WIFI=1
                  -DUSE_SCREEN=0
                  ${dev_lilygo_tdisplay_s3.build_flags}

[env:demo_amoled]
extends         = dev_lilygo_amoled
build_flags     = -DDEMO=1
                  -DEFFECTS_DEMO=1
                  -DPROJECT_NAME="\"M5Demo\""
                  -DMATRIX_WIDTH=144*5+38
                  -DMATRIX_HEIGHT=1
                  -DCOLOR_ORDER=EOrder::GRB
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=0
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DNUM_BANDS=64
                  -DINPUT_PIN=41
                  -DUSE_I2S_AUDIO=1
                  -DI2S_BCLK_PIN=39
                  -DI2S_WS_PIN=42
                  ${dev_lilygo_amoled.build_flags}

;=============

[env:ledstrip]
extends         = dev_heltec_wifi
build_flags     = -DLEDSTRIP=1
                  -DPROJECT_NAME='"Ledstrip"'
                  -DENABLE_WEBSERVER=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=1
                  -DTIME_BEFORE_LOCAL=5
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=1152
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=1152
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=0
                  -DLED_PIN0=5
                  -DDEFAULT_EFFECT_INTERVAL=20000
                  -DRING_SIZE_0=1
                  -DRING_SIZE_1=2
                  -DRING_SIZE_2=4
                  -DRING_SIZE_3=8
                  -DRING_SIZE_4=16
                  -DEFFECTS_MINIMAL=1
                  ${dev_heltec_wifi.build_flags}

; ledstrip_feather is based off ledstrip but intended for the ESP32S3 TFT Feather from Adafruit with 2MB PSRAM

[env:ledstrip_feather]
extends         = dev_adafruit_feather
build_flags     = -DLEDSTRIP=1
                  -DEFFECTS_MINIMAL=1
                  ${dev_adafruit_feather.build_flags}
                  ${psram_flags.build_flags}

[env:ledstrip_feather_hexagon]
extends         = dev_adafruit_feather
build_flags     = -DHEXAGON=1
                  -DEFFECTS_HEXAGON=1
                  -DPROJECT_NAME="\"Feather Hexagon\""
                  -DENABLE_WEBSERVER=1
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=1
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=271
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=MATRIX_WIDTH*MATRIX_HEIGHT
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=0
                  -DLED_PIN0=5
                  -DDEFAULT_EFFECT_INTERVAL=1000*20
                  -DHEX_MAX_DIMENSION=19
                  -DHEX_HALF_DIMENSION=10
                  ${dev_adafruit_feather.build_flags}
                  ${psram_flags.build_flags}

[env:ledstrip_feather_wrover]
extends         = dev_wrover
build_flags     = -DLEDSTRIP=1
                  -DEFFECTS_MINIMAL=1
                  -DUSER_SETUP_LOADED
                  ${psram_flags.build_flags}
                  ${dev_wrover.build_flags}
debug_init_break = tbreak setup

[env:ledstriplite]
extends         = dev_esp32
build_flags     = -DLEDSTRIP=1
                  -DEFFECTS_MINIMAL=1
                  ${dev_esp32.build_flags}

[env:ledstrip_pico]
extends         = dev_tinypico
build_flags     = -DLEDSTRIP=1
                  -DEFFECTS_MINIMAL=1
                  ${psram_flags.build_flags}
                  ${dev_tinypico.build_flags}

;=============

[env:spectrum]
extends         = dev_m5stick_c_plus
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_SPECTRUM=1
                  -DPROJECT_NAME="\"Spectrum\""
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DMAX_SAMPLES=512
                  -DMAX_BUFFERS=1
                  -DINCOMING_WIFI_ENABLED=0
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DLED_PIN0=26
                  -DNUM_CHANNELS=1
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=48
                  -DMATRIX_HEIGHT=16
                  -DNUM_BANDS=16
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DSHOW_VU_METER=1
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:spectrum2]
extends         = dev_m5stick_c_plus2
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_SPECTRUM=1
                  -DPROJECT_NAME="\"Spectrum\""
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=1
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DMAX_SAMPLES=512
                  -DINCOMING_WIFI_ENABLED=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DLED_PIN0=32
                  -DNUM_CHANNELS=1
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=48
                  -DMATRIX_HEIGHT=16
                  -DNUM_BANDS=16
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DSHOW_VU_METER=1
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus2.build_flags}

[env:helmet]
extends         = dev_m5stick_c_plus
build_flags     = -DHELMET=1
                  -DEFFECTS_SPECTRUM=1
                  -DSHOW_VU_METER=1
                  -DPROJECT_NAME="\"Helmet\""
                  -DPOWER_LIMIT_MW=1000
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DDEFAULT_EFFECT_INTERVAL=0
                  -DLED_PIN0=26
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=32
                  -DMATRIX_HEIGHT=8
                  -DNUM_FANS=MATRIX_WIDTH
                  -DFAN_SIZE=MATRIX_HEIGHT
                  -DNUM_BANDS=16
                  -DLED_FAN_OFFSET_BU=6
                  -DTOGGLE_BUTTON_1=39
                  -DTOGGLE_BUTTON_2=37
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:spectrum_elecrow]
extends         = dev_elecrow_mesmerizer
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_SPECTRUM=1
                  -DSHOW_VU_METER=1
                  -DENABLE_AUDIO=1
                  -DELECROW=1
                  -DUSE_I2S_AUDIO=1
                  -DUSE_SCREEN=1
                  -DTFT_WIDTH=320
                  -DTFT_HEIGHT=480
                  ${psram_flags.build_flags}
                  ${remote_flags.build_flags}
                  ${dev_elecrow_mesmerizer.build_flags}
lib_deps        = ${dev_elecrow_mesmerizer.lib_deps}

; Same as Spectrum but using a non-Plus M5 Stick (older version with smaller screen)
[env:spectrumlite]
extends         = dev_m5stick_c
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_SPECTRUM=1
                  -DENABLE_AUDIO=1
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c.build_flags}

; And again, for the Wrover
[env:spectrum_wrover_kit]
extends         = dev_wrover
build_flags     = -DSPECTRUM=1
                  -DEFFECTS_SPECTRUM=1
                  -DUSE_SCREEN=1
                  -DSPECTRUM_WROVER_KIT=1
                  -DENABLE_AUDIO=1
                  ${remote_flags.build_flags}
                  ${dev_wrover.build_flags}
lib_deps        = ${dev_wrover.lib_deps}
debug_init_break = tbreak setup

;===============

[env:mesmerizer]
extends         = dev_mesmerizer
build_flags     = ${dev_mesmerizer.build_flags}
                  -DMESMERIZER=1
                  -DEFFECTS_MESMERIZER=1
                  ${mesmerizer_config.build_flags}
lib_deps        = ${mesmerizer_config.lib_deps}
board_build.embed_files = ${mesmerizer_config.board_build.embed_files}

[env:mesmerizer_lolin]
extends         = dev_lolin_d32_pro
build_flags     = ${dev_lolin_d32_pro.build_flags}
                  -DMESMERIZER=1
                  -DEFFECTS_MESMERIZER=1
                  ${mesmerizer_config.build_flags}
lib_deps        = ${mesmerizer_config.lib_deps}
board_build.embed_files = ${mesmerizer_config.board_build.embed_files}

;==============
; Simplified project definitions using base board types + project defines + effect sets

[env:laserline]
extends         = dev_m5stick_c_plus
build_flags     = -DLASERLINE=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"Laser Line\""
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=0
                  -DENABLE_WEBSERVER=0
                  -DENABLE_NTP=0
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=700
                  -DMATRIX_HEIGHT=1
                  -DLED_FAN_OFFSET_BU=6
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DLED_PIN0=32
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:lantern]
extends         = dev_m5stick_c
build_flags     = -DLANTERN=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"Lantern\""
                  -DNUM_FANS=1
                  -DNUM_RINGS=4
                  -DRING_SIZE_0=16
                  -DRING_SIZE_1=12
                  -DRING_SIZE_2=8
                  -DRING_SIZE_3=1
                  -DFAN_SIZE=RING_SIZE_0+RING_SIZE_1+RING_SIZE_2+RING_SIZE_3
                  -DMATRIX_WIDTH=6
                  -DMATRIX_HEIGHT=2
                  -DENABLE_AUDIO=1
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DTIME_BEFORE_LOCAL=0
                  -DENABLE_NTP=0
                  -DENABLE_OTA=0
                  -DLED_PIN0=32
                  -DENABLE_WEBSERVER=0
                  -DDEFAULT_EFFECT_INTERVAL=1000*60*60*24
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c.build_flags}

[env:pdpgrid]
extends         = dev_m5stick_c_plus2
build_flags     = -DPDPGRID=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"PDPGrid\""
                  -DNUM_FANS=1
                  -DNUM_RINGS=4
                  -DRING_SIZE_0=16
                  -DRING_SIZE_1=12
                  -DRING_SIZE_2=8
                  -DRING_SIZE_3=1
                  -DFAN_SIZE=RING_SIZE_0+RING_SIZE_1+RING_SIZE_2+RING_SIZE_3
                  -DMATRIX_WIDTH=14
                  -DMATRIX_HEIGHT=16
                  -DENABLE_AUDIO=1
                  -DPOWER_LIMIT_MW=1000
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DTIME_BEFORE_LOCAL=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=1
                  -DENABLE_WEBSERVER=1
                  -DLED_PIN0=32
                  -DDEFAULT_EFFECT_INTERVAL=0
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus2.build_flags}

[env:treeset]
extends         = dev_esp32
build_flags     = -DTREESET=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"Treeset\""
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=0
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=0
                  -DENABLE_OTA=1
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DLED_PIN0=26
                  -DNUM_CHANNELS=1
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=5
                  -DMATRIX_HEIGHT=RING_SIZE_0
                  -DNUM_FANS=MATRIX_WIDTH
                  -DFAN_SIZE=MATRIX_HEIGHT
                  -DIR_REMOTE_PIN=25
                  -DLED_FAN_OFFSET_BU=12
                  -DTOGGLE_BUTTON=37
                  ${remote_flags.build_flags}
                  ${dev_esp32.build_flags}

[env:chieftain]
extends         = dev_tinypico
build_flags     = -DCHIEFTAIN=1
                  -DPROJECT_NAME='"Chieftain"'
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=5
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=12
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=12
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DLED_PIN0=5
                  -DDEFAULT_EFFECT_INTERVAL=20000
                  -DRING_SIZE_0=1
                  -DRING_SIZE_1=2
                  -DRING_SIZE_2=4
                  -DRING_SIZE_3=8
                  -DRING_SIZE_4=16
                  -DEFFECTS_MINIMAL=1
                  ${dev_tinypico.build_flags}

[env:umbrella]
extends         = dev_esp32
build_flags     = -DUMBRELLA=1
                  -DPROJECT_NAME='"Umbrella"'
                  -DCOLOR_ORDER=EOrder::RGB
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_OTA=1
                  -DENABLE_REMOTE=1
                  -DIR_REMOTE_PIN=39
                  -DENABLE_AUDIO=1
                  -DDEFAULT_EFFECT_INTERVAL=1800000
                  -DLED_PIN0=5
                  -DLED_PIN1=16
                  -DLED_PIN2=17
                  -DLED_PIN3=18
                  -DLED_PIN4=32
                  -DLED_PIN5=33
                  -DLED_PIN6=23
                  -DLED_PIN7=22
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=228
                  -DMATRIX_HEIGHT=1
                  -DONBOARD_LED_R=16
                  -DONBOARD_LED_G=17
                  -DONBOARD_LED_B=18
                  -DTOGGLE_BUTTON_2=0
                  -DEFFECTS_MINIMAL=1
                  -DUSE_SCREEN=0
                  ${remote_flags.build_flags}
                  ${dev_esp32.build_flags}

[env:hexagon]
extends         = dev_esp32
build_flags     = -DHEXAGON=1
                  -DEFFECTS_HEXAGON=1
                  -DPROJECT_NAME="\"Hexagon\""
                  -DENABLE_WEBSERVER=1
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=1
                  -DMATRIX_WIDTH=271
                  -DMATRIX_HEIGHT=1
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=0
                  -DLED_PIN0=5
                  -DDEFAULT_EFFECT_INTERVAL=1000*20
                  -DHEX_MAX_DIMENSION=19
                  -DHEX_HALF_DIMENSION=10
                  ${dev_esp32.build_flags}

[env:generic]
extends         = dev_esp32
build_flags     = -DGENERIC=1
                  -DEFFECTS_MINIMAL=1
                  ${dev_esp32.build_flags}

[env:ttgo]
extends         = dev_esp32
upload_speed    = 460800
upload_flags    = --before
                  default_reset
                  --after
                  hard_reset
                  --no-stub

board_build.flash_mode = dio
board_build.flash_freq = 40m

build_flags     = -DTTGO=1
                  -DEFFECTS_TTGO=1
                  -DUSE_SCREEN=1
                  -DDEFAULT_INFO_PAGE=1
                  -DUSE_TFTSPI=1
                  -DUSER_SETUP_LOADED
                  -DST7789_DRIVER
                  -DTFT_SDA_READ
                  -DTFT_WIDTH=135
                  -DTFT_HEIGHT=240
                  -DCGRAM_OFFSET
                  -DTFT_CS=5
                  -DTFT_DC=16
                  -DTFT_RST=23
                  -DTFT_MOSI=19
                  -DTFT_SCLK=18
                  -DTFT_MISO=-1
                  -DTFT_BL=4
                  -DTFT_BACKLIGHT_ON=HIGH
                  -DSPI_FREQUENCY=40000000
                  -DSPI_READ_FREQUENCY=6000000
                  -DPROJECT_NAME="\"TTGO\""
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DNUM_BANDS=48
                  -DMAX_SAMPLES=512
                  -DUSE_I2S_AUDIO=1
                  -DINPUT_PIN=33
                  -DI2S_BCLK_PIN=26
                  -DI2S_WS_PIN=25
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24
                  -DLED_PIN0=21
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DNUM_FANS=MATRIX_WIDTH
                  -DFAN_SIZE=MATRIX_HEIGHT
                  -DIR_REMOTE_PIN=22
                  -DLED_FAN_OFFSET_BU=6
                  -DTOGGLE_BUTTON_1=35
                  ${remote_flags.build_flags}
                  ${dev_esp32.build_flags}
lib_deps        = ${base.lib_deps}
                  ${ttgo_deps.lib_deps}

[env:xmastrees]
extends         = dev_m5stick_c_plus
build_flags     = -DXMASTREES=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"X-mas Trees\""
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=1
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24
                  -DLED_PIN0=26
                  -DRING_SIZE_0=24
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=24
                  -DMATRIX_HEIGHT=5
                  -DFAN_SIZE=MATRIX_WIDTH
                  -DNUM_FANS=MATRIX_HEIGHT
                  -DIR_REMOTE_PIN=25
                  -DLED_FAN_OFFSET_BU=6
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:insulators]
extends         = dev_m5stick_c_plus
build_flags     = -DINSULATORS=1
                  -DPROJECT_NAME='"Insulators"'
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=0
                  -DDEFAULT_EFFECT_INTERVAL=0
                  -DLED_PIN0=26
                  -DNUM_CHANNELS=1
                  -DRING_SIZE_0=12
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=5
                  -DMATRIX_HEIGHT=12
                  -DNUM_FANS=5
                  -DFAN_SIZE=12
                  -DNUM_LEDS=60
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DIR_REMOTE_PIN=26
                  -DLED_FAN_OFFSET_BU=6
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  -DEFFECTS_MINIMAL=1
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:single_insulator]
extends         = dev_m5stick_c_plus
build_flags     = -DSINGLE_INSULATOR=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"Single Insulator\""
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=1
                  -DDEFAULT_EFFECT_INTERVAL=10*60*24
                  -DBONUS_PIXELS=7
                  -DNUM_FANS=1
                  -DFAN_SIZE=12
                  -DMATRIX_WIDTH=NUM_FANS*FAN_SIZE+BONUS_PIXELS
                  -DMATRIX_HEIGHT=NUM_FANS
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DLED_FAN_OFFSET_BU=6
                  -DLED_PIN0=26
                  ${dev_m5stick_c_plus.build_flags}

[env:magicmirror]
extends         = dev_m5stick_c
build_flags     = -DMAGICMIRROR=1
                  -DPROJECT_NAME='"Magic Mirror"'
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=1
                  -DDEFAULT_EFFECT_INTERVAL=14400
                  -DLED_PIN0=26
                  -DNUM_FANS=1
                  -DFAN_SIZE=100
                  -DMATRIX_WIDTH=100
                  -DNUM_LEDS=100
                  -DMATRIX_HEIGHT=1
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DIR_REMOTE_PIN=15
                  -DLED_FAN_OFFSET_BU=6
                  -DEFFECTS_MINIMAL=1
                  ${dev_m5stick_c.build_flags}

[env:atomlight]
extends         = dev_esp32
build_flags     = -DATOMLIGHT=1
                  -DEFFECTS_MINIMAL=1
                  -DPROJECT_NAME="\"Atom Light\""
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=3
                  -DNUM_CHANNELS=4
                  -DMATRIX_WIDTH=53
                  -DMATRIX_HEIGHT=1
                  -DENABLE_REMOTE=1
                  -DIR_REMOTE_PIN=35
                  -DENABLE_AUDIO=1
                  -DUSE_SCREEN=0
                  -DFAN_SIZE=NUM_LEDS
                  -DNUM_FANS=1
                  -DNUM_RINGS=1
                  -DLED_FAN_OFFSET_BU=0
                  -DBONUS_PIXELS=0
                  -DLED_PIN0=5
                  -DLED_PIN1=16
                  -DLED_PIN2=17
                  -DLED_PIN3=18
                  -DDEFAULT_EFFECT_INTERVAL=1000*60*5
                  ${dev_esp32.build_flags}
                  -UUSE_SCREEN                      ; Unset USE_SCREEN that is set in the device build flags.
                                                    ; The ATOMLIGHT project really prefers not to use it.

[env:spirallamp]
extends         = dev_m5stick_c_plus
build_flags     = -DSPIRALLAMP=1
                  -DPROJECT_NAME='"Spiral Light"'
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=3
                  -DENABLE_OTA=0
                  -DNUM_CHANNELS=2
                  -DMATRIX_WIDTH=172
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=172
                  -DENABLE_REMOTE=1
                  -DIR_REMOTE_PIN=26
                  -DENABLE_AUDIO=1
                  -DUSE_SCREEN=1
                  -DFAN_SIZE=172
                  -DNUM_FANS=1
                  -DNUM_RINGS=1
                  -DFULL_COLOR_REMOTE_FILL=1
                  -DBRIGHTNESS_MIN=0
                  -DTOGGLE_BUTTON_1=39
                  -DTOGGLE_BUTTON_2=37
                  -DLED_PIN0=32
                  -DLED_PIN1=33
                  -DDEFAULT_EFFECT_INTERVAL=300000
                  -DEFFECTS_MINIMAL=1
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:platecover]
extends         = dev_m5stick_c_plus
build_flags     = -DPLATECOVER=1
                  -DPROJECT_NAME='"Plate Cover"'
                  -DENABLE_ESPNOW=1
                  -DENABLE_WIFI=0
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=3
                  -DNUM_CHANNELS=1
                  -DMATRIX_WIDTH=40
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=40
                  -DENABLE_REMOTE=1
                  -DIR_REMOTE_PIN=26
                  -DENABLE_AUDIO=1
                  -DUSE_SCREEN=1
                  -DFAN_SIZE=40
                  -DTOGGLE_BUTTON_1=39
                  -DTOGGLE_BUTTON_2=37
                  -DLED_PIN0=32
                  -DDEFAULT_EFFECT_INTERVAL=0
                  -DEFFECTS_MINIMAL=1
                  -DFASTLED_EXPERIMENTAL_ESP32_RGBW_ENABLED=1
                  -DFASTLED_EXPERIMENTAL_ESP32_RGBW_MODE=kRGBWMaxBrightness
                  -DCOLOR_ORDER=EOrder::BRG
                  -DLEDTYPE=WS2812
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}

[env:fanset]
extends         = dev_m5stick_c_plus
build_flags     = -DFANSET=1
                  -DEFFECTS_FAN=1
                  -DPROJECT_NAME="\"Fan set\""
                  -DENABLE_AUDIOSERIAL=0
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=0
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_WEBSERVER=1
                  -DENABLE_NTP=0
                  -DENABLE_OTA=0
                  -DENABLE_REMOTE=1
                  -DENABLE_AUDIO=1
                  -DCOLORDATA_SERVER_ENABLED=0
                  -DMIN_BUFFERS=1
                  -DMAX_BUFFERS=1
                  -DDEFAULT_EFFECT_INTERVAL=60*60*24*5
                  -DLED_PIN0=26
                  -DBONUS_PIXELS=32
                  -DNUM_CHANNELS=1
                  -DNUM_FANS=10
                  -DNUM_BANDS=8
                  -DNUM_RINGS=1
                  -DFAN_SIZE=16
                  -DFAN_LEN=NUM_FANS*FAN_SIZE
                  -DMATRIX_WIDTH=NUM_FANS*FAN_SIZE+BONUS_PIXELS
                  -DNUM_LEDS=MATRIX_WIDTH
                  -DLED_FAN_OFFSET_BU=3
                  -DMATRIX_HEIGHT=1
                  -DTOGGLE_BUTTON_1=37
                  -DTOGGLE_BUTTON_2=39
                  ${remote_flags.build_flags}
                  ${dev_m5stick_c_plus.build_flags}
monitor_filters = esp32_exception_decoder

[env:wroverkit]
extends         = dev_wrover
build_flags     = -DWROVERKIT=1
                  -DPROJECT_NAME='"WROVER Kit"'
                  -DMATRIX_WIDTH=144
                  -DMATRIX_HEIGHT=1
                  -DNUM_LEDS=144
                  -DNUM_CHANNELS=1
                  -DNUM_RINGS=5
                  -DRING_SIZE_0=24
                  -DUSE_LCD=1
                  -DUSE_SCREEN=1
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DTIME_BEFORE_LOCAL=2
                  -DENABLE_NTP=1
                  -DENABLE_OTA=1
                  -DWAIT_FOR_WIFI=0
                  -DLED_PIN0=5
                  -DENABLE_WEBSERVER=1
                  ${dev_wrover.build_flags}

[env:cube]
extends         = dev_m5stick_c_plus
build_flags     = -DCUBE=1
                  -DPROJECT_NAME='"Cube"'
                  -DENABLE_WIFI=1
                  -DINCOMING_WIFI_ENABLED=1
                  -DWAIT_FOR_WIFI=0
                  -DTIME_BEFORE_LOCAL=5
                  -DENABLE_WEBSERVER=1
                  -DDEFAULT_EFFECT_INTERVAL=600000
                  -DLED_PIN0=26
                  -DNUM_CHANNELS=1
                  -DRING_SIZE_0=25
                  -DBONUS_PIXELS=0
                  -DMATRIX_WIDTH=5
                  -DMATRIX_HEIGHT=25
                  -DNUM_FANS=5
                  -DFAN_SIZE=25
                  -DNUM_LEDS=125
                  -DENABLE_REMOTE=0
                  -DENABLE_AUDIO=1
                  -DIR_REMOTE_PIN=26
                  -DLED_FAN_OFFSET_BU=6
                  -DENABLE_OTA=0
                  -DTOGGLE_BUTTON=37
                  -DCOLOR_ORDER=EOrder::RGB
                  -DEFFECTS_MINIMAL=1
                  ${dev_m5stick_c_plus.build_flags}
