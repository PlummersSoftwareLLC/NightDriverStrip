BasedOnStyle: Microsoft
# Enforce 4-space indentation everywhere
UseTab: Never
IndentWidth: 4
TabWidth: 4
ContinuationIndentWidth: 4

# Keep access modifiers at column 0 like typical MS style
AccessModifierOffset: -4

# Constructor initializer list indentation and breaks
ConstructorInitializerIndentWidth: 4
# Place ':' at end of the constructor signature, break after it, and indent items by 4
BreakConstructorInitializers: AfterColon
ConstructorInitializerAllOnOneLineOrOnePerLine: true

# Inheritance list formatting (for long base lists)
# Place ':' at end of class name line; if wrapped, indent by ContinuationIndentWidth
BreakInheritanceList: AfterColon

# Misc maintains project feel, avoids surprising reflows
AlignAfterOpenBracket: Align
# RJL "two please" rule - IndentCaseLabels: true
IndentCaseLabels: false
NamespaceIndentation: None
# RJL AllowShortFunctionsOnASingleLine: Empty


# RJL's tweaks to that
ColumnLimit: 74
ReflowComments: Always

# Group and sort imports
IncludeBlocks : Regroup
SortIncludes: true

# The current hodgepodge makes me crazy. if you're going to commit to
# curlies on a line, make sure they're consistently on their own line.
# (Yes, I'm overriding a "surprising reflow" above)
AllowShortBlocksOnASingleLine: Never
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never

# This is probably about the bottom of "I hate that" things to argue
# about. Below this, it's mostly just fixing editor mishaps.


# These drive GitHub crazy. let's just fix them.
InsertNewlineAtEOF: true
RemoveEmptyLinesInUnwrappedLines: true

# Visual clutter
RemoveParentheses: MultipleParentheses
RemoveSemicolon: true

# Existing code often tries to do this.
# I found at least two occurrences in our tree of
#  code trying to manually do each of these.
#  (Some may already default on)

AlignArrayOfStructures: Right
AlignConsecutiveAssignments: true
AlignConsecutiveMacros: true
AlignConsecutiveShortCaseStatements:
  Enabled: true
  AcrossEmptyLines: true
  AcrossComments: true
  AlignCaseColons: false
AlignTrailingComments:
  Kind: Always
  OverEmptyLines: 2

# Below this is things I'd like
# I like this, but Dave just undid a bunch of these, so I think he likes
#if FOO
#if BAR
#endif
#endif
#over
#if FOO
    #if BAR
    #endif
#endif
# IndentPPDirectives: BeforeHash
#
# I like this for consistency:
# InsertBraces : true
#
# KeepEmptyLines:
#  AtEndOfFile: false
#  AtStartOfBlock: false
#  AtStartOfFile: false
